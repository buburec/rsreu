<!doctype html>
<html>
<head>
<meta charset="utf-8"> 
<script>

	// ----------------------------------------------------------------
	// forEach позволяет применить функцию для каждого элемента массива
	var arr = ["one", "two", "three", "four", "five", "six", "seven", "eight"];
	arr.forEach(function(item, index, array) {
		array[index] = item.length; // заменяем все строковые элементы на значения их длин
	});
	console.log(arr); // [3, 3, 5, 4, 4, 3, 5, 5]
	
	// ----------------------------------------------------------------
	// map формирует новый массив, модифицируя элементы исходного массива
	arr = ["one", "two", "three", "four", "five", "six", "seven", "eight"];
	var res = arr.map(function(item, index, array) {
		return item.length; 
	});
	console.log(res); // [3, 3, 5, 4, 4, 3, 5, 5]
	console.log(arr); // ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight']
	
	// ----------------------------------------------------------------
	// sort без аргументов сортирует исходный массив в строковом виде(!) в алфавитном порядке
	arr = [8, 5, 10, 1];
	console.log(arr.sort()); // [1, 10, 5, 8] 
	// чтобы применить свой алгоритм сортировки нужно задать функцию сортировки
	console.log(arr.sort(function(a, b){
		return a > b ? 1 : (a < b ? -1 : 0);
		
		//На самом деле от функции сравнения требуется любое положительное число, 
		//чтобы сказать «больше», и отрицательное число, чтобы сказать «меньше».
		// поэтому можно было записать более кратко:
		//return a - b;
		
	})); // [1, 5, 8, 10] 
	
	// reverse переворачивает исходный массив и возвращает его
	console.log(arr.reverse()); // [10, 8, 5, 1]
	
	// ----------------------------------------------------------------
	// join позволяет представить элементы массива в строковом виде и
	// объединить их в строку через заданный сепаратор
	arr = [1, false, NaN, "Привет", [7,8,9], Infinity];
	console.log(arr.join(" | ")); // "1 | false | NaN | Привет | 7,8,9 | Infinity"
	// по умолчанию сепаратором является запятая:
	console.log(arr.join()); // "1,false,NaN,Привет,7,8,9,Infinity"
	// очень часто используется вместе с методом строк split
	var str = "Это<br>html<br>текст<br>";
	console.log(str.split("<br>").join(" ").split("html").join("простой")); // "Это простой текст"
	
	// ----------------------------------------------------------------
	// reduce и reduceRight позволяют нам вычислить какую-то характеристику массива
	arr = [1, 2, 3, 4, 5];
	console.log(arr.reduce(function(previousValue, item, index, array){
		return previousValue + item;
	})); // 15
	// по умолчанию  в качестве начального значения previousValue берется
	// первый элемент массива, а итерации начинаются со второго.
	// но его можно задать явно, тогда итерации начнутся с первого элемента:
	
	// рассчитать средний возраст сотрудников
	var workers = [{name: "Сергей", age: 28},
				   {name: "Василий", age: 46},
				   {name: "Александр", age: 55}];
	var res = workers.reduce(function(prev, user) { return prev + user.age; }, 0) / workers.length;
	console.log(res); // 43

		
</script>
</head>
<body>
</body>
</html>

